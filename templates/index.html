<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian House Price Predictor | Github/izaanz</title>

    <!-- Bootstrap CDN (no Docker size impact) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* üåø Light Mint Theme */
        body {
            background: linear-gradient(135deg, #f0fdf4, #ecfeff);
            min-height: 100vh;
            padding: 30px 10px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .prediction-form {
            max-width: 900px;
            margin: auto;
            background: #ffffff;
            padding: 35px;
            border-radius: 14px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.06);
        }

        .app-title {
            font-weight: 700;
        }

        .subtitle {
            font-size: 0.95rem;
            color: #6c757d;
        }

        .form-label {
            font-weight: 500;
        }

        .btn-primary {
            padding: 10px 35px;
            font-weight: 600;
            border-radius: 25px;
            background-color: #10b981;
            border-color: #10b981;
        }

        .btn-primary:hover {
            background-color: #059669;
            border-color: #059669;
        }

        .result {
            margin-top: 30px;
            padding: 25px;
            background: #ecfdf5;
            border-radius: 12px;
            border: 1px solid #a7f3d0;
            display: none;
        }

        .price-value {
            color: #047857;
            font-weight: 700;
        }

        hr {
            margin: 25px 0;
        }
    </style>
</head>

<body>
<div class="container">
    <div class="prediction-form">

        <div class="text-center mb-4">
            <h2 class="app-title">üè† Indian House Price Predictor</h2>
            <div class="subtitle">Machine Learning based price estimation</div>
        </div>

        <hr>

        <form id="predictionForm">

            <!-- Location -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">State</label>
                    <input type="text" class="form-control" name="State" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">City</label>
                    <input type="text" class="form-control" name="City" required>
                </div>
            </div>

            <!-- Property basics -->
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Property Type</label>
                    <select class="form-select" name="Property_Type">
                        <option value="0">Apartment</option>
                        <option value="1">Independent House</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">BHK</label>
                    <input type="number" class="form-control" name="BHK" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Size (SqFt)</label>
                    <input type="number" class="form-control" name="Size_in_SqFt" required>
                </div>
            </div>

            <!-- Pricing -->
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Price / SqFt</label>
                    <input type="number" class="form-control" name="Price_per_SqFt" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Year Built</label>
                    <input type="number" class="form-control" name="Year_Built" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Furnished Status</label>
                    <select class="form-select" name="Furnished_Status">
                        <option value="0">Unfurnished</option>
                        <option value="1">Semi-Furnished</option>
                        <option value="2">Fully Furnished</option>
                    </select>
                </div>
            </div>

            <!-- Floors -->
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Floor No</label>
                    <input type="number" class="form-control" name="Floor_No" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Total Floors</label>
                    <input type="number" class="form-control" name="Total_Floors" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Property Age</label>
                    <input type="number" class="form-control" name="Age_of_Property" required>
                </div>
            </div>

            <!-- Nearby -->
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Nearby Schools</label>
                    <input type="number" class="form-control" name="Nearby_Schools" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Nearby Hospitals</label>
                    <input type="number" class="form-control" name="Nearby_Hospitals" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Public Transport</label>
                    <select class="form-select" name="Public_Transport_Accessibility">
                        <option value="0">Poor</option>
                        <option value="1">Good</option>
                        <option value="2">Excellent</option>
                    </select>
                </div>
            </div>

            <!-- Misc -->
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Parking</label>
                    <select class="form-select" name="Parking_Space">
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Security</label>
                    <select class="form-select" name="Security">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Facing</label>
                    <select class="form-select" name="Facing">
                        <option value="0">North</option>
                        <option value="1">South</option>
                        <option value="2">East</option>
                        <option value="3">West</option>
                    </select>
                </div>
            </div>

            <!-- Owner & Availability -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Owner Type</label>
                    <select class="form-select" name="Owner_Type">
                        <option value="owner">Owner</option>
                        <option value="broker">Broker</option>
                    </select>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Availability Status</label>
                    <select class="form-select" name="Availability_Status">
                        <option value="ready_to_move">Ready to Move</option>
                        <option value="under_construction">Under Construction</option>
                    </select>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Amenities</label>
                <input type="text" class="form-control" name="Amenities"
                       placeholder="Garden, Gym, Pool, Clubhouse">
            </div>

            <div class="text-center mt-4">
                <button class="btn btn-primary" type="submit">üîÆ Predict Price</button>
            </div>
        </form>

        <div class="result text-center" id="result">
            <h5>Estimated Price (in Lakhs)</h5>
            <h2 class="price-value" id="predicted-price"></h2>
        </div>

    </div>
</div>

<script>
document.getElementById('predictionForm').addEventListener('submit', async (e) => {
    e.preventDefault();

    const data = {};
    new FormData(e.target).forEach((value, key) => {
        if (!isNaN(value) && value !== '') {
            data[key] = Number(value);
        } else {
            data[key] = value;
        }
    });

    try {
        const response = await fetch('http://127.0.0.1:9696/predict', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });

        const result = await response.json();
        document.getElementById('result').style.display = 'block';
        document.getElementById('predicted-price').textContent =
            '‚Çπ ' + result.price.toLocaleString('en-IN');
    } catch (err) {
        alert('Error predicting price. Please try again.');
    }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
